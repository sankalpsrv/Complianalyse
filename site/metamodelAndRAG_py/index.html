<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>metamodelAndRAG.py - Schematise Docs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "metamodelAndRAG.py";
        var mkdocs_page_input_path = "metamodelAndRAG_py.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Schematise Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Schematise_py-and-main_py/">Main.py</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../model_py/">model.py</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../combinedprocess_py/">combinedProcess.py</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">metamodelAndRAG.py</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#table-of-contents">Table of Contents</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-introduction">1. Introduction</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-import-statements">2. "import" statements</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-functions-and-classes">3. Functions and classes</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#class-customretrieverbaseretriever">class CustomRetriever(BaseRetriever):</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#getrag_metamodelsopenai_key-text_value-metamodel_number">getRAG_metamodels(openai_key, text_value, metamodel_number):</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#metamodel_operationsopenai_key-text_value-i-metamodels_to_process-llm_selectedopenai">metamodel_operations(openai_key, text_value, i, metamodels_to_process, llm_selected="OpenAI"):</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#4-checklist-of-features-across-formats">4. Checklist of features across formats</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../utils_py/">utils.py</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Schematise Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">metamodelAndRAG.py</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="metamodelandragpy">metamodelAndRAG.py</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li>Introduction</li>
<li>"import" statements</li>
<li>Functions </li>
<li>Checklist of features across Streamlit and LocalWorkflow</li>
</ol>
<h3 id="1-introduction">1. Introduction</h3>
<p>The functionality for metamodel tweaking using RAG has been isolated in this python file for the purpose of creating further modifications when required to this part of the process.
This function is present in both Streamlit and LocalWorkflow versions.</p>
<h3 id="2-import-statements">2. "import" statements</h3>
<p>[To be completed]</p>
<h3 id="3-functions-and-classes">3. Functions and classes</h3>
<h4 id="class-customretrieverbaseretriever">class CustomRetriever(BaseRetriever):</h4>
<ul>
<li>a self-querying CustomRetriver that is utilised to extract data from a list of metamodel definitions and example RDF files</li>
</ul>
<h4 id="getrag_metamodelsopenai_key-text_value-metamodel_number">getRAG_metamodels(openai_key, text_value, metamodel_number):</h4>
<ul>
<li>extracts the metamodel from the CustomRetriever Object</li>
<li>makes a call to model.py's RAGPrompt function that handles the model request functionality</li>
<li>Currently, it is very resource consuming on the HuggingFacePipeline in the LocalWorkflow, hence it is preferred not to use this</li>
<li>WIP: In future, it is intended to implement one of the Vectorstore retrievers available within the LangChain framework, which might require OpenAI key</li>
</ul>
<h4 id="metamodel_operationsopenai_key-text_value-i-metamodels_to_process-llm_selectedopenai">metamodel_operations(openai_key, text_value, i, metamodels_to_process, llm_selected="OpenAI"):</h4>
<ul>
<li>creates the interface between the combiendProcess and metamodelAndRAG files</li>
<li>stores the output from metamodel alignment in the working directory</li>
</ul>
<h3 id="4-checklist-of-features-across-formats">4. Checklist of features across formats</h3>
<p>(TBD = To Be Developed)</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Streamlit</th>
<th>LocalWorkflow</th>
<th>LegalDocML</th>
<th>LegalRuleML</th>
</tr>
</thead>
<tbody>
<tr>
<td>Self-Querying RAG</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>HuggingFaceOption</td>
<td>No</td>
<td>Difficult (resource-intensive)</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>VectorStore RAG</td>
<td>TBD</td>
<td>TBD</td>
<td>TBD</td>
<td>TBD</td>
</tr>
</tbody>
</table>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../combinedprocess_py/" class="btn btn-neutral float-left" title="combinedProcess.py"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../utils_py/" class="btn btn-neutral float-right" title="utils.py">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../combinedprocess_py/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../utils_py/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
